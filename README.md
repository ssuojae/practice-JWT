

<br/>

<details>
<summary><strong>인증과 인가, JWT, Session</strong></summary>

### 인증과 인가 

#### 1. 인증(Authentication)
- 인증은 사용자가 누구인지 **확인하는 과정**이다.
- 예시: 사용자명과 비밀번호를 입력해 서버에 신원을 증명한다.
- 세션과 JWT 모두 처음에 인증 과정을 거친 후, 세션 ID나 JWT를 발급받게 된다.

#### 2. 인가(Authorization)
- 인가는 인증된 사용자가 특정 리소스나 행동을 할 **권한이 있는지 확인하는 과정**이다.
- 예시: 인증된 사용자가 관리 페이지에 접근할 수 있는지 확인한다.

<br/>

### 세션 기반 인증과 인가

#### 1. 세션(Session)
- 세션은 **서버에 사용자의 상태(state)를 저장**하는 방식이다.
- 인증에 성공하면 서버는 **세션 ID**를 클라이언트에게 발급한다.
- 클라이언트는 **세션 ID**를 쿠키에 저장하고, 요청마다 서버에 세션 ID를 전송한다.
- 서버는 세션 ID를 통해 **서버에 저장된 세션 데이터(권한 정보)** 를 찾아 인가를 처리한다.

##### 세션 방식의 특징
- **보안성**: 중요한 정보는 서버에 저장되므로 클라이언트에서 유출될 위험이 적다.
- **서버 부하**: 많은 세션을 관리해야 하므로 서버 리소스 사용량이 증가할 수 있다.
- **확장성 문제**: 서버가 여러 대일 경우, 세션 동기화가 필요하다.

<br/>

### JWT 기반 인증과 인가

#### 1. JWT(Json Web Token)
- JWT는 **사용자의 상태를 클라이언트가 직접 관리**하는 방식이다.
- 인증에 성공하면 서버는 사용자 정보를 포함한 **JWT**를 클라이언트에게 발급한다.
- 클라이언트는 JWT를 저장(예: 로컬 스토리지, 쿠키)하고, 요청마다 서버에 JWT를 전송한다.
- 서버는 JWT를 **검증**하여, 토큰에 포함된 정보로 인가를 처리한다.

##### JWT 방식의 특징
- **스테이트리스(stateless)**: 서버에 세션 정보를 저장하지 않으므로, 서버 부담이 적다.
- **확장성**: 여러 서버에서도 쉽게 검증할 수 있어 확장성이 뛰어나다.
- **보안 문제**: JWT는 클라이언트에 저장되기 때문에 탈취되면 무효화할 수 없으며, 만료 시간 설정 및 리프레시 토큰과 같은 추가적인 보안 조치가 필요하다.

<br/>

### 세션과 JWT 비교 

| 구분      | 세션(Session)                              | JWT(Json Web Token)                        |
| --------- | ------------------------------------------ | ------------------------------------------ |
| 상태 관리 | 서버에 저장                                | 클라이언트가 직접 보유                     |
| 확장성    | 서버 확장 시 세션 동기화 필요               | 서버 확장에 유리                          |
| 보안성    | 서버에 중요한 정보가 저장되어 상대적으로 안전 | 클라이언트에 저장되므로 탈취 시 위험 있음  |
| 서버 부담 | 서버에 세션 저장으로 인한 부하 발생        | 스테이트리스 방식으로 서버 부담 적음       |
| 만료      | 서버에서 세션을 무효화할 수 있음           | JWT는 발급 후 만료 시간까지 유효           |

<br/>

### 언제 세션과 JWT를 선택할까?

- **세션을 선택할 때**: 보안이 최우선인 서비스 (예: 금융 서비스)에서 사용하거나, 소규모 서비스에서 사용자가 많지 않은 경우.
- **JWT를 선택할 때**: 확장성과 성능이 중요한 대규모 서비스, 특히 모바일 앱이나 SPA 같은 RESTful API를 사용하는 환경에서 적합하다.

</details>
