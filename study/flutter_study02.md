## 고민한 부분: 클라이언트와 백엔드 간의 유저 정보 관리 전략

- JWT 프로젝트를 진행하면서 클라이언트와 백엔드 간에 유저 정보를 어떻게 관리할지에 대해 고민을 해보았다.
- 처음에는 유저의 디테일한 정보(이메일, 비밀번호, 사용자 이름 등)를 클라이언트(Flutter-iOS)에 저장하고, 백엔드와는 ID, 비밀번호, TokenKey만 주고 받는 것이 보안상 더 좋다고 생각했다.
- 클라이언트에 유저 정보를 저장하면 네트워크를 통한 외부 공격에 노출되지 않고, 앱 내부에서만 정보를 처리하므로 보안성 측면에서는 유리하다. 
- 그러나 아래와 같은 이유로 확장성을 우선시하며 클라이언트 로컬에는 토큰만 저장하고, 유저정보는 백엔드에서 관리하는 방향으로 결정했다.

### 클라이언트에 토큰만 저장하는 방식의 장점

1. **확장성 측면에서 용이**
   - 백엔드가 유저 정보를 가지고 있어야 관계형 데이터베이스를 통해 유저 정보를 쉽게 관리하고 확장할 수 있다.
   - 특히 여러 클라이언트 플랫폼(모바일, 웹)에서 동일한 유저 데이터를 사용할 때, 서버에서 유저 정보를 일관되게 관리하는 것이 매우 중요하다.
   - 클라이언트마다 따로 유저 정보를 관리하면 데이터의 일관성이 깨질 수 있기 때문에, 서버에서 이를 통합 관리하는 것이 더 확장성 있는 아키텍처다.

2. **SSOT (Single Source Of Truth)**
   - 모바일 아키텍처에서 중요한 SSOT 원칙은 데이터를 중앙 집중화해 관리하는 것을 의미한다. 이를 통해 데이터가 변경될 때 한 곳에서만 이를 반영하면 되기 때문에 관리가 용이하다.
   - 이러한 SSOT원칙은 비단 프론트단 뿐 아니라 프로덕트 전체 구조에서 유지되어야한다고 생각했다.
   - 유저 정보를 백엔드에서 관리함으로써 SSOT원칙을 지켜 데이터 변경사항을 쉽게 추적하고, 업데이트할 수 있으며, 데이터 일관성을 유지할 수 있다.

3. **보안을 희생하고 확장성을 얻은 트레이드오프**
   - 클라이언트에 유저 정보를 저장하는 것이 보안적으로는 더 안전할 수 있다. 클라이언트는 유저 정보를 내부에서 처리하기 때문에 외부 네트워크 공격에 덜 취약하기 때문이다.
   - 하지만 확장성과 데이터 관리의 용이성을 고려하여 보안을 약간 희생하는 트레이드오프를 선택했다. 백엔드에서 유저 정보를 관리함으로써 여러 플랫폼에서 통합된 데이터를 활용할 수 있지만, 네트워크를 통해 데이터를 주고받는 과정에서 보안 리스크가 발생할 수 있다.
   - 따라서 백엔드와 클라이언트 간의 통신을 암호화하고, 백엔드 보안을 강화하는 추가적인 조치를 취했다.

### 최종 결정
- 클라이언트에는 오직 JWT 토큰만 저장하고, 유저의 디테일한 정보는 모두 백엔드에서 관리하기로 결정했다.
- 이를 통해 확장성 있는 아키텍처를 구현할 수 있었고, 여러 클라이언트에서 일관성 있게 데이터를 관리할 수 있게 되었다.
- 이 과정에서 보안성을 약간 희생한 트레이드오프를 감수했지만, 이는 프로젝트의 확장성과 데이터 관리 용이성을 고려한 선택이었다.
